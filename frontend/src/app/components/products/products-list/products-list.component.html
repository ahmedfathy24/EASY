<div class="container mt-5">
  <hr class="my-1" style="border: none; height: 2px; background: linear-gradient(to right, #006cdf, #000102); margin: auto;">
  <h1 class="mb-2 fw-bold text-center">Products</h1>
  <hr class="mb-5" style="border: none; height: 3px; background: linear-gradient(to right, #006cdf, #000102); margin: auto;">
  <div class="row g-4">
    @for (product of products; track product._id) {
      <div class="col-sm-6 col-md-4 col-lg-3 d-flex ">
        <div class="card shadow-sm w-100 d-flex flex-column">
          <img  [src]="product.image || 'assets/placeholder.jpg'"  class="card-img-top p-3" [alt]="product.name"style="height: 200px; object-fit: contain;">
          
          <div class="card-body d-flex flex-column">
            <h6 class="card-title mb-1 text-truncate"  style="max-width: 100%;" [title]="product.name" >{{ product.name }}</h6>
            <p class="card-text fw-bold text-primary mb-2" style="font-size: 0.95rem;">${{ product.price }}</p>

            <div class="mt-auto">
              <a [routerLink]="['/products', product._id]" class="btn btn-outline-primary btn-sm w-100 mb-2">View Details</a>

              @if (!isAdmin()) {
                <button class="btn btn-success btn-sm w-100"(click)="addToCart(product._id)">Add to Cart</button>
              }
            </div>
          </div>
        </div>
      </div>
    }
  </div>
</div>
